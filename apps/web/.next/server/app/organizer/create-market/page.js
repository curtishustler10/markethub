(()=>{var e={};e.id=6209,e.ids=[6209],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},37330:(e,r,a)=>{"use strict";a.r(r),a.d(r,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d}),a(89271),a(35582),a(87824);var t=a(93282),s=a(5736),n=a(93906),i=a.n(n),l=a(36880),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);a.d(r,o);let d=["",{children:["organizer",{children:["create-market",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,89271)),"/Users/gwendolyn/Downloads/markethub/apps/web/app/organizer/create-market/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,35582)),"/Users/gwendolyn/Downloads/markethub/apps/web/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,87824,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/gwendolyn/Downloads/markethub/apps/web/app/organizer/create-market/page.tsx"],u="/organizer/create-market/page",m={require:a,loadChunk:()=>Promise.resolve()},p=new t.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/organizer/create-market/page",pathname:"/organizer/create-market",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},85812:(e,r,a)=>{Promise.resolve().then(a.bind(a,67163))},67163:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>y});var t=a(73227),s=a(23677),n=a(41043),i=a(7403),l=a(56423),o=a(9928),d=a(91009),c=a(48918);!function(){var e=Error("Cannot find module '@/components/ui/checkbox'");throw e.code="MODULE_NOT_FOUND",e}();var u=a(32759),m=a(64651),p=a(71692),h=a(10405),x=a(40401),g=a(97464),f=a(55786),v=a(20649);function y(){let[e,r]=(0,s.useState)(!1),{toast:a}=(0,u.pm)(),y=(0,n.useRouter)(),[b,j]=(0,s.useState)({name:"",description:"",address:"",city:"",state:"",postcode:"",country:"Australia",lat:"",lng:"",amenities:{parking:!1,toilets:!1,power:!1,water:!1,waste_disposal:!1,security:!1,first_aid:!1,storage:!1},requirements:{public_liability:!1,food_licence:!1,business_registration:!1,product_insurance:!1}}),w=(e,r)=>{j(a=>({...a,[e]:r}))},N=(e,r)=>{j(a=>({...a,amenities:{...a.amenities,[e]:r}}))},k=(e,r)=>{j(a=>({...a,requirements:{...a.requirements,[e]:r}}))},S=async e=>{e.preventDefault(),r(!0);try{let e={...b,lat:b.lat?parseFloat(b.lat):null,lng:b.lng?parseFloat(b.lng):null},r=await fetch("/api/markets",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),t=await r.json();if(!r.ok)throw Error(t.error||"Failed to create market");a({title:"Market created!",description:`${b.name} has been successfully created.`}),y.push("/organizer/markets")}catch(e){a({title:"Error",description:e.message||"Failed to create market",variant:"destructive"})}finally{r(!1)}};return t.jsx(f.r,{children:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[t.jsx(i.z,{variant:"ghost",size:"sm",asChild:!0,children:(0,t.jsxs)(v.default,{href:"/organizer/markets",children:[t.jsx(m.Z,{className:"w-4 h-4 mr-2"}),"Back to Markets"]})}),(0,t.jsxs)("div",{children:[t.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Create New Market"}),t.jsx("p",{className:"text-muted-foreground",children:"Set up your farmers market to start accepting vendor applications."})]})]}),(0,t.jsxs)("form",{onSubmit:S,className:"space-y-8",children:[(0,t.jsxs)(d.Zb,{children:[(0,t.jsxs)(d.Ol,{children:[(0,t.jsxs)(d.ll,{className:"flex items-center gap-2",children:[t.jsx(p.Z,{className:"w-5 h-5"}),"Basic Information"]}),t.jsx(d.SZ,{children:"Provide the essential details about your market."})]}),(0,t.jsxs)(d.aY,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(c._,{htmlFor:"name",children:"Market Name *"}),t.jsx(l.I,{id:"name",placeholder:"e.g., Brisbane Riverside Farmers Market",value:b.name,onChange:e=>w("name",e.target.value),required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(c._,{htmlFor:"state",children:"State *"}),(0,t.jsxs)("select",{id:"state",className:"w-full px-3 py-2 border border-input bg-background rounded-md text-sm",value:b.state,onChange:e=>w("state",e.target.value),required:!0,children:[t.jsx("option",{value:"",children:"Select state..."}),[{value:"NSW",label:"New South Wales"},{value:"VIC",label:"Victoria"},{value:"QLD",label:"Queensland"},{value:"WA",label:"Western Australia"},{value:"SA",label:"South Australia"},{value:"TAS",label:"Tasmania"},{value:"ACT",label:"Australian Capital Territory"},{value:"NT",label:"Northern Territory"}].map(e=>t.jsx("option",{value:e.value,children:e.label},e.value))]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(c._,{htmlFor:"description",children:"Description *"}),t.jsx(o.g,{id:"description",placeholder:"Describe your market, what makes it special, and what vendors/visitors can expect...",value:b.description,onChange:e=>w("description",e.target.value),rows:4,required:!0})]})]})]}),(0,t.jsxs)(d.Zb,{children:[(0,t.jsxs)(d.Ol,{children:[(0,t.jsxs)(d.ll,{className:"flex items-center gap-2",children:[t.jsx(h.Z,{className:"w-5 h-5"}),"Location Details"]}),t.jsx(d.SZ,{children:"Help vendors and visitors find your market."})]}),(0,t.jsxs)(d.aY,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(c._,{htmlFor:"address",children:"Street Address *"}),t.jsx(l.I,{id:"address",placeholder:"e.g., 123 Main Street or Brisbane City Park",value:b.address,onChange:e=>w("address",e.target.value),required:!0})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(c._,{htmlFor:"city",children:"City/Suburb *"}),t.jsx(l.I,{id:"city",placeholder:"e.g., Brisbane",value:b.city,onChange:e=>w("city",e.target.value),required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(c._,{htmlFor:"postcode",children:"Postcode"}),t.jsx(l.I,{id:"postcode",placeholder:"e.g., 4000",value:b.postcode,onChange:e=>w("postcode",e.target.value)})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(c._,{htmlFor:"country",children:"Country"}),t.jsx(l.I,{id:"country",value:b.country,onChange:e=>w("country",e.target.value),disabled:!0})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(c._,{htmlFor:"lat",children:"Latitude (Optional)"}),t.jsx(l.I,{id:"lat",type:"number",step:"any",placeholder:"e.g., -27.4698",value:b.lat,onChange:e=>w("lat",e.target.value)})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(c._,{htmlFor:"lng",children:"Longitude (Optional)"}),t.jsx(l.I,{id:"lng",type:"number",step:"any",placeholder:"e.g., 153.0251",value:b.lng,onChange:e=>w("lng",e.target.value)})]})]}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"\uD83D\uDCA1 Tip: You can find coordinates by searching your location on Google Maps and clicking to get lat/lng coordinates."})]})]}),(0,t.jsxs)(d.Zb,{children:[(0,t.jsxs)(d.Ol,{children:[(0,t.jsxs)(d.ll,{className:"flex items-center gap-2",children:[t.jsx(x.Z,{className:"w-5 h-5"}),"Market Amenities"]}),t.jsx(d.SZ,{children:"Select the facilities available at your market."})]}),t.jsx(d.aY,{children:t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Object.entries({parking:"Parking Available",toilets:"Public Toilets",power:"Power Supply",water:"Water Access",waste_disposal:"Waste Disposal",security:"Security",first_aid:"First Aid",storage:"Storage Facilities"}).map(([e,r])=>(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx(Object(function(){var e=Error("Cannot find module '@/components/ui/checkbox'");throw e.code="MODULE_NOT_FOUND",e}()),{id:e,checked:b.amenities[e],onCheckedChange:r=>N(e,r)}),t.jsx(c._,{htmlFor:e,className:"text-sm font-normal",children:r})]},e))})})]}),(0,t.jsxs)(d.Zb,{children:[(0,t.jsxs)(d.Ol,{children:[(0,t.jsxs)(d.ll,{className:"flex items-center gap-2",children:[t.jsx(g.Z,{className:"w-5 h-5"}),"Vendor Requirements"]}),t.jsx(d.SZ,{children:"Select the documents/certifications vendors need to participate."})]}),t.jsx(d.aY,{children:t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries({public_liability:"Public Liability Insurance",food_licence:"Food Handling License",business_registration:"Business Registration",product_insurance:"Product Insurance"}).map(([e,r])=>(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx(Object(function(){var e=Error("Cannot find module '@/components/ui/checkbox'");throw e.code="MODULE_NOT_FOUND",e}()),{id:e,checked:b.requirements[e],onCheckedChange:r=>k(e,r)}),t.jsx(c._,{htmlFor:e,className:"text-sm font-normal",children:r})]},e))})})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-4",children:[t.jsx(i.z,{type:"button",variant:"outline",asChild:!0,children:t.jsx(v.default,{href:"/organizer/markets",children:"Cancel"})}),t.jsx(i.z,{type:"submit",disabled:e,children:e?"Creating Market...":"Create Market"})]})]})]})})}},55786:(e,r,a)=>{"use strict";a.d(r,{r:()=>n});var t=a(73227),s=a(48180);function n({children:e}){return(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[t.jsx(s.h,{userRole:"organizer",userName:"Demo User",userAvatar:void 0}),t.jsx("main",{className:"py-8",children:t.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:e})})]})}},91009:(e,r,a)=>{"use strict";a.d(r,{Ol:()=>l,SZ:()=>d,Zb:()=>i,aY:()=>c,ll:()=>o});var t=a(73227),s=a(23677),n=a(68969);let i=s.forwardRef(({className:e,...r},a)=>t.jsx("div",{ref:a,className:(0,n.cn)("rounded-xl border bg-card text-card-foreground shadow-sm",e),...r}));i.displayName="Card";let l=s.forwardRef(({className:e,...r},a)=>t.jsx("div",{ref:a,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",e),...r}));l.displayName="CardHeader";let o=s.forwardRef(({className:e,...r},a)=>t.jsx("h3",{ref:a,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",e),...r}));o.displayName="CardTitle";let d=s.forwardRef(({className:e,...r},a)=>t.jsx("p",{ref:a,className:(0,n.cn)("text-sm text-muted-foreground",e),...r}));d.displayName="CardDescription";let c=s.forwardRef(({className:e,...r},a)=>t.jsx("div",{ref:a,className:(0,n.cn)("p-6 pt-0",e),...r}));c.displayName="CardContent",s.forwardRef(({className:e,...r},a)=>t.jsx("div",{ref:a,className:(0,n.cn)("flex items-center p-6 pt-0",e),...r})).displayName="CardFooter",s.forwardRef(({className:e,...r},a)=>t.jsx("div",{ref:a,className:(0,n.cn)("flex items-center justify-end",e),...r})).displayName="CardAction"},56423:(e,r,a)=>{"use strict";a.d(r,{I:()=>i});var t=a(73227),s=a(23677),n=a(68969);let i=s.forwardRef(({className:e,type:r,...a},s)=>t.jsx("input",{type:r,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:s,...a}));i.displayName="Input"},48918:(e,r,a)=>{"use strict";a.d(r,{_:()=>c});var t=a(73227),s=a(23677),n=a(45579),i=s.forwardRef((e,r)=>(0,t.jsx)(n.WV.label,{...e,ref:r,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));i.displayName="Label";var l=a(31086),o=a(68969);let d=(0,l.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=s.forwardRef(({className:e,...r},a)=>t.jsx(i,{ref:a,className:(0,o.cn)(d(),e),...r}));c.displayName=i.displayName},9928:(e,r,a)=>{"use strict";a.d(r,{g:()=>i});var t=a(73227),s=a(23677),n=a(68969);let i=s.forwardRef(({className:e,...r},a)=>t.jsx("textarea",{className:(0,n.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:a,...r}));i.displayName="Textarea"},64651:(e,r,a)=>{"use strict";a.d(r,{Z:()=>t});/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,a(24583).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},97464:(e,r,a)=>{"use strict";a.d(r,{Z:()=>t});/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,a(24583).Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},71692:(e,r,a)=>{"use strict";a.d(r,{Z:()=>t});/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,a(24583).Z)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},10405:(e,r,a)=>{"use strict";a.d(r,{Z:()=>t});/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,a(24583).Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},40401:(e,r,a)=>{"use strict";a.d(r,{Z:()=>t});/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,a(24583).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},20649:(e,r,a)=>{"use strict";a.d(r,{default:()=>s.a});var t=a(76568),s=a.n(t)},41043:(e,r,a)=>{"use strict";var t=a(62854);a.o(t,"useParams")&&a.d(r,{useParams:function(){return t.useParams}}),a.o(t,"usePathname")&&a.d(r,{usePathname:function(){return t.usePathname}}),a.o(t,"useRouter")&&a.d(r,{useRouter:function(){return t.useRouter}}),a.o(t,"useSearchParams")&&a.d(r,{useSearchParams:function(){return t.useSearchParams}})},93648:(e,r,a)=>{"use strict";/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t=a(23677),s="function"==typeof Object.is?Object.is:function(e,r){return e===r&&(0!==e||1/e==1/r)||e!=e&&r!=r},n=t.useState,i=t.useEffect,l=t.useLayoutEffect,o=t.useDebugValue;function d(e){var r=e.getSnapshot;e=e.value;try{var a=r();return!s(e,a)}catch(e){return!0}}var c="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,r){return r()}:function(e,r){var a=r(),t=n({inst:{value:a,getSnapshot:r}}),s=t[0].inst,c=t[1];return l(function(){s.value=a,s.getSnapshot=r,d(s)&&c({inst:s})},[e,a,r]),i(function(){return d(s)&&c({inst:s}),e(function(){d(s)&&c({inst:s})})},[e]),o(a),a};r.useSyncExternalStore=void 0!==t.useSyncExternalStore?t.useSyncExternalStore:c},51746:(e,r,a)=>{"use strict";e.exports=a(93648)},89271:(e,r,a)=>{"use strict";a.r(r),a.d(r,{$$typeof:()=>i,__esModule:()=>n,default:()=>l});var t=a(53189);let s=(0,t.createProxy)(String.raw`/Users/gwendolyn/Downloads/markethub/apps/web/app/organizer/create-market/page.tsx`),{__esModule:n,$$typeof:i}=s;s.default;let l=(0,t.createProxy)(String.raw`/Users/gwendolyn/Downloads/markethub/apps/web/app/organizer/create-market/page.tsx#default`)},47468:(e,r,a)=>{"use strict";a.d(r,{NY:()=>k,Ee:()=>N,fC:()=>w});var t=a(23677),s=a(66016),n=a(14228),i=a(79797),l=a(45579),o=a(51746);function d(){return()=>{}}var c=a(73227),u="Avatar",[m,p]=(0,s.b)(u),[h,x]=m(u),g=t.forwardRef((e,r)=>{let{__scopeAvatar:a,...s}=e,[n,i]=t.useState("idle");return(0,c.jsx)(h,{scope:a,imageLoadingStatus:n,onImageLoadingStatusChange:i,children:(0,c.jsx)(l.WV.span,{...s,ref:r})})});g.displayName=u;var f="AvatarImage",v=t.forwardRef((e,r)=>{let{__scopeAvatar:a,src:s,onLoadingStatusChange:u=()=>{},...m}=e,p=x(f,a),h=function(e,{referrerPolicy:r,crossOrigin:a}){let s=(0,o.useSyncExternalStore)(d,()=>!0,()=>!1),n=t.useRef(null),l=s?(n.current||(n.current=new window.Image),n.current):null,[c,u]=t.useState(()=>j(l,e));return(0,i.b)(()=>{u(j(l,e))},[l,e]),(0,i.b)(()=>{let e=e=>()=>{u(e)};if(!l)return;let t=e("loaded"),s=e("error");return l.addEventListener("load",t),l.addEventListener("error",s),r&&(l.referrerPolicy=r),"string"==typeof a&&(l.crossOrigin=a),()=>{l.removeEventListener("load",t),l.removeEventListener("error",s)}},[l,a,r]),c}(s,m),g=(0,n.W)(e=>{u(e),p.onImageLoadingStatusChange(e)});return(0,i.b)(()=>{"idle"!==h&&g(h)},[h,g]),"loaded"===h?(0,c.jsx)(l.WV.img,{...m,ref:r,src:s}):null});v.displayName=f;var y="AvatarFallback",b=t.forwardRef((e,r)=>{let{__scopeAvatar:a,delayMs:s,...n}=e,i=x(y,a),[o,d]=t.useState(void 0===s);return t.useEffect(()=>{if(void 0!==s){let e=window.setTimeout(()=>d(!0),s);return()=>window.clearTimeout(e)}},[s]),o&&"loaded"!==i.imageLoadingStatus?(0,c.jsx)(l.WV.span,{...n,ref:r}):null});function j(e,r){return e?r?(e.src!==r&&(e.src=r),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}b.displayName=y;var w=g,N=v,k=b}};var r=require("../../../webpack-runtime.js");r.C(e);var a=e=>r(r.s=e),t=r.X(0,[4522,1981,6568,1093],()=>a(37330));module.exports=t})();