(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[296],{8519:function(e,t,r){Promise.resolve().then(r.bind(r,9808))},9808:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return f}});var n=r(7573),s=r(7653),a=r(7659),i=r(3187),l=r(1998),o=r(6113),c=r(4051),d=r(6738),u=r(3972),m=r(1367);function f(){let[e,t]=(0,s.useState)([]),[r,f]=(0,s.useState)(!0),[x,h]=(0,s.useState)(""),[g,p]=(0,s.useState)("");return(0,s.useEffect)(()=>{(async()=>{try{let e=new URLSearchParams;x&&e.set("search",x),g&&e.set("state",g);let r=await fetch("/api/markets?".concat(e)),n=await r.json();r.ok&&t(n.markets)}catch(e){console.error("Error fetching markets:",e)}finally{f(!1)}})()},[x,g]),(0,n.jsx)(m.LayoutProvider,{showHeader:!0,showFooter:!0,children:(0,n.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,n.jsx)("section",{className:"py-12 bg-white border-b",children:(0,n.jsxs)("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[(0,n.jsxs)("div",{className:"text-center mb-8",children:[(0,n.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Discover Local Markets"}),(0,n.jsx)("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Find farmers markets, craft fairs, and food festivals in your area. Apply with confidence using your pre-verified documents."})]}),(0,n.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-3 gap-4 mx-auto max-w-4xl",children:[(0,n.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200 text-center",children:[(0,n.jsx)("div",{className:"text-3xl mb-2",children:"\uD83D\uDD0D"}),(0,n.jsx)("h3",{className:"font-semibold",children:"Find markets"}),(0,n.jsx)("p",{className:"text-sm text-gray-600",children:"In a click, find the local markets near you"})]}),(0,n.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200 text-center",children:[(0,n.jsx)("div",{className:"text-3xl mb-2",children:"\uD83D\uDCE7"}),(0,n.jsx)("h3",{className:"font-semibold",children:"Apply"}),(0,n.jsx)("p",{className:"text-sm text-gray-600",children:"Market applications just made easier, send application and get approved"})]}),(0,n.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200 text-center",children:[(0,n.jsx)("div",{className:"text-3xl mb-2",children:"\uD83E\uDEF1\uD83C\uDFFBâ€\uD83E\uDEF2\uD83C\uDFFE"}),(0,n.jsx)("h3",{className:"font-semibold",children:"Collaborate"}),(0,n.jsx)("p",{className:"text-sm text-gray-600",children:"Get seen by event organizer and manage your offers in one platform"})]})]})]})}),(0,n.jsxs)("main",{className:"container mx-auto px-4 py-8",children:[(0,n.jsxs)("div",{className:"mb-8",children:[(0,n.jsx)("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Available Markets"}),(0,n.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[(0,n.jsx)("form",{onSubmit:e=>{e.preventDefault()},className:"flex-1",children:(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)(d.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,n.jsx)(l.I,{type:"text",placeholder:"Search markets by name or location...",value:x,onChange:e=>h(e.target.value),className:"pl-10"})]})}),(0,n.jsxs)("select",{value:g,onChange:e=>p(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",children:[(0,n.jsx)("option",{value:"",children:"All States"}),["NSW","VIC","QLD","WA","SA","TAS","ACT","NT"].map(e=>(0,n.jsx)("option",{value:e,children:e},e))]})]})]}),r?(0,n.jsx)("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((e,t)=>(0,n.jsxs)(o.Zb,{className:"animate-pulse",children:[(0,n.jsxs)(o.Ol,{children:[(0,n.jsx)("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),(0,n.jsx)("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]}),(0,n.jsx)(o.aY,{children:(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)("div",{className:"h-3 bg-gray-200 rounded"}),(0,n.jsx)("div",{className:"h-3 bg-gray-200 rounded w-5/6"})]})})]},t))}):0===e.length?(0,n.jsxs)("div",{className:"text-center py-12",children:[(0,n.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,n.jsx)(u.Z,{className:"w-8 h-8 text-gray-400"})}),(0,n.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No markets found"}),(0,n.jsx)("p",{className:"text-gray-600 mb-4",children:"Try adjusting your search criteria or browse all markets"}),(0,n.jsx)(i.z,{onClick:()=>{h(""),p("")},children:"Clear Filters"})]}):(0,n.jsx)("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(e=>(0,n.jsxs)(o.Zb,{className:"hover:shadow-lg transition-shadow",children:[(0,n.jsxs)(o.Ol,{children:[(0,n.jsxs)(o.ll,{className:"flex items-start justify-between",children:[(0,n.jsx)("span",{className:"text-lg",children:e.name}),(0,n.jsx)(c.C,{variant:"secondary",children:e.state})]}),(0,n.jsxs)(o.SZ,{className:"flex items-center",children:[(0,n.jsx)(u.Z,{className:"w-4 h-4 mr-1"}),e.city,", ",e.state]})]}),(0,n.jsxs)(o.aY,{children:[(0,n.jsx)("p",{className:"text-sm text-gray-600 mb-4 line-clamp-3",children:e.description}),e.amenities&&Object.keys(e.amenities).length>0&&(0,n.jsxs)("div",{className:"mb-4",children:[(0,n.jsx)("p",{className:"text-xs font-medium text-gray-500 mb-2",children:"Amenities:"}),(0,n.jsx)("div",{className:"flex flex-wrap gap-1",children:Object.entries(e.amenities).map(e=>{let[t,r]=e;return r&&(0,n.jsx)(c.C,{variant:"outline",className:"text-xs",children:t.replace("_"," ")},t)})})]}),e.events&&e.events.length>0&&(0,n.jsx)("div",{className:"mb-4",children:(0,n.jsxs)("p",{className:"text-xs font-medium text-gray-500 mb-2",children:["Next Event: ",new Date(e.events[0].start_date).toLocaleDateString()]})}),(0,n.jsxs)("div",{className:"flex gap-2",children:[(0,n.jsx)(i.z,{asChild:!0,size:"sm",className:"flex-1",children:(0,n.jsx)(a.default,{href:"/markets/".concat(e.slug),children:"View Details"})}),(0,n.jsx)(i.z,{asChild:!0,variant:"outline",size:"sm",children:(0,n.jsx)(a.default,{href:"/auth/register?role=vendor",children:"Apply"})})]})]})]},e.id))}),(0,n.jsxs)("div",{className:"mt-12 text-center",children:[(0,n.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Want to list your market?"}),(0,n.jsx)("p",{className:"text-gray-600 mb-6",children:"Join MarketHub to manage vendor applications and streamline your market operations"}),(0,n.jsx)(i.z,{asChild:!0,size:"lg",children:(0,n.jsx)(a.default,{href:"/auth/register?role=market_organizer",children:"List Your Market"})})]})]})]})})}},4051:function(e,t,r){"use strict";r.d(t,{C:function(){return l}});var n=r(7573);r(7653);var s=r(5517),a=r(5974);let i=(0,s.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function l(e){let{className:t,variant:r,...s}=e;return(0,n.jsx)("div",{className:(0,a.cn)(i({variant:r}),t),...s})}},6113:function(e,t,r){"use strict";r.d(t,{Ol:function(){return l},SZ:function(){return c},Zb:function(){return i},aY:function(){return d},ll:function(){return o}});var n=r(7573),s=r(7653),a=r(5974);let i=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("div",{ref:t,className:(0,a.cn)("rounded-xl border bg-card text-card-foreground shadow-sm",r),...s})});i.displayName="Card";let l=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("div",{ref:t,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",r),...s})});l.displayName="CardHeader";let o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("h3",{ref:t,className:(0,a.cn)("text-2xl font-semibold leading-none tracking-tight",r),...s})});o.displayName="CardTitle";let c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("p",{ref:t,className:(0,a.cn)("text-sm text-muted-foreground",r),...s})});c.displayName="CardDescription";let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("div",{ref:t,className:(0,a.cn)("p-6 pt-0",r),...s})});d.displayName="CardContent",s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("div",{ref:t,className:(0,a.cn)("flex items-center p-6 pt-0",r),...s})}).displayName="CardFooter",s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("div",{ref:t,className:(0,a.cn)("flex items-center justify-end",r),...s})}).displayName="CardAction"},1998:function(e,t,r){"use strict";r.d(t,{I:function(){return i}});var n=r(7573),s=r(7653),a=r(5974);let i=s.forwardRef((e,t)=>{let{className:r,type:s,...i}=e;return(0,n.jsx)("input",{type:s,className:(0,a.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...i})});i.displayName="Input"},9565:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(7653);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),a=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&r.indexOf(e)===t).join(" ")};/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,n.forwardRef)((e,t)=>{let{color:r="currentColor",size:s=24,strokeWidth:l=2,absoluteStrokeWidth:o,className:c="",children:d,iconNode:u,...m}=e;return(0,n.createElement)("svg",{ref:t,...i,width:s,height:s,stroke:r,strokeWidth:o?24*Number(l)/Number(s):l,className:a("lucide",c),...m},[...u.map(e=>{let[t,r]=e;return(0,n.createElement)(t,r)}),...Array.isArray(d)?d:[d]])}),o=(e,t)=>{let r=(0,n.forwardRef)((r,i)=>{let{className:o,...c}=r;return(0,n.createElement)(l,{ref:i,iconNode:t,className:a("lucide-".concat(s(e)),o),...c})});return r.displayName="".concat(e),r}},3972:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r(9565).Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},6738:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r(9565).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},7659:function(e,t,r){"use strict";r.d(t,{default:function(){return s.a}});var n=r(5469),s=r.n(n)},7754:function(e,t,r){"use strict";var n=r(534);r.o(n,"usePathname")&&r.d(t,{usePathname:function(){return n.usePathname}}),r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}}),r.o(n,"useSearchParams")&&r.d(t,{useSearchParams:function(){return n.useSearchParams}})},7676:function(e,t,r){"use strict";/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=r(7653),s="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=n.useState,i=n.useEffect,l=n.useLayoutEffect,o=n.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!s(e,r)}catch(e){return!0}}var d="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),n=a({inst:{value:r,getSnapshot:t}}),s=n[0].inst,d=n[1];return l(function(){s.value=r,s.getSnapshot=t,c(s)&&d({inst:s})},[e,r,t]),i(function(){return c(s)&&d({inst:s}),e(function(){c(s)&&d({inst:s})})},[e]),o(r),r};t.useSyncExternalStore=void 0!==n.useSyncExternalStore?n.useSyncExternalStore:d},2666:function(e,t,r){"use strict";e.exports=r(7676)},6483:function(e,t,r){"use strict";r.d(t,{NY:function(){return k},Ee:function(){return w},fC:function(){return N}});var n=r(7653),s=r(379),a=r(3465),i=r(2316),l=r(6646),o=r(2666);function c(){return()=>{}}var d=r(7573),u="Avatar",[m,f]=(0,s.b)(u),[x,h]=m(u),g=n.forwardRef((e,t)=>{let{__scopeAvatar:r,...s}=e,[a,i]=n.useState("idle");return(0,d.jsx)(x,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:(0,d.jsx)(l.WV.span,{...s,ref:t})})});g.displayName=u;var p="AvatarImage",v=n.forwardRef((e,t)=>{let{__scopeAvatar:r,src:s,onLoadingStatusChange:u=()=>{},...m}=e,f=h(p,r),x=function(e,t){let{referrerPolicy:r,crossOrigin:s}=t,a=(0,o.useSyncExternalStore)(c,()=>!0,()=>!1),l=n.useRef(null),d=a?(l.current||(l.current=new window.Image),l.current):null,[u,m]=n.useState(()=>j(d,e));return(0,i.b)(()=>{m(j(d,e))},[d,e]),(0,i.b)(()=>{let e=e=>()=>{m(e)};if(!d)return;let t=e("loaded"),n=e("error");return d.addEventListener("load",t),d.addEventListener("error",n),r&&(d.referrerPolicy=r),"string"==typeof s&&(d.crossOrigin=s),()=>{d.removeEventListener("load",t),d.removeEventListener("error",n)}},[d,s,r]),u}(s,m),g=(0,a.W)(e=>{u(e),f.onImageLoadingStatusChange(e)});return(0,i.b)(()=>{"idle"!==x&&g(x)},[x,g]),"loaded"===x?(0,d.jsx)(l.WV.img,{...m,ref:t,src:s}):null});v.displayName=p;var b="AvatarFallback",y=n.forwardRef((e,t)=>{let{__scopeAvatar:r,delayMs:s,...a}=e,i=h(b,r),[o,c]=n.useState(void 0===s);return n.useEffect(()=>{if(void 0!==s){let e=window.setTimeout(()=>c(!0),s);return()=>window.clearTimeout(e)}},[s]),o&&"loaded"!==i.imageLoadingStatus?(0,d.jsx)(l.WV.span,{...a,ref:t}):null});function j(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}y.displayName=b;var N=g,w=v,k=y},379:function(e,t,r){"use strict";r.d(t,{b:function(){return a}});var n=r(7653),s=r(7573);function a(e,t=[]){let r=[],a=()=>{let t=r.map(e=>n.createContext(e));return function(r){let s=r?.[e]||t;return n.useMemo(()=>({[`__scope${e}`]:{...r,[e]:s}}),[r,s])}};return a.scopeName=e,[function(t,a){let i=n.createContext(a),l=r.length;r=[...r,a];let o=t=>{let{scope:r,children:a,...o}=t,c=r?.[e]?.[l]||i,d=n.useMemo(()=>o,Object.values(o));return(0,s.jsx)(c.Provider,{value:d,children:a})};return o.displayName=t+"Provider",[o,function(r,s){let o=s?.[e]?.[l]||i,c=n.useContext(o);if(c)return c;if(void 0!==a)return a;throw Error(`\`${r}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let r=()=>{let r=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let s=r.reduce((t,{useScope:r,scopeName:n})=>{let s=r(e)[`__scope${n}`];return{...t,...s}},{});return n.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return r.scopeName=t.scopeName,r}(a,...t)]}},6646:function(e,t,r){"use strict";r.d(t,{WV:function(){return l},jH:function(){return o}});var n=r(7653),s=r(3458),a=r(2721),i=r(7573),l=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let r=(0,a.Z8)(`Primitive.${t}`),s=n.forwardRef((e,n)=>{let{asChild:s,...a}=e,l=s?r:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,i.jsx)(l,{...a,ref:n})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function o(e,t){e&&s.flushSync(()=>e.dispatchEvent(t))}},3465:function(e,t,r){"use strict";r.d(t,{W:function(){return s}});var n=r(7653);function s(e){let t=n.useRef(e);return n.useEffect(()=>{t.current=e}),n.useMemo(()=>(...e)=>t.current?.(...e),[])}},2316:function(e,t,r){"use strict";r.d(t,{b:function(){return s}});var n=r(7653),s=globalThis?.document?n.useLayoutEffect:()=>{}}},function(e){e.O(0,[469,13,367,293,286,744],function(){return e(e.s=8519)}),_N_E=e.O()}]);