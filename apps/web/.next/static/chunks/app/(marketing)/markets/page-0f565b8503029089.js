(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[296],{8519:function(e,r,t){Promise.resolve().then(t.bind(t,9808))},9808:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return f}});var n=t(7573),a=t(7653),s=t(7659),i=t(3187),l=t(1998),o=t(6113),c=t(4051),u=t(6738),d=t(3972),m=t(5493);function f(){let[e,r]=(0,a.useState)([]),[t,f]=(0,a.useState)(!0),[x,h]=(0,a.useState)(""),[g,p]=(0,a.useState)("");return(0,a.useEffect)(()=>{(async()=>{try{let e=new URLSearchParams;x&&e.set("search",x),g&&e.set("state",g);let t=await fetch("/api/markets?".concat(e)),n=await t.json();t.ok&&r(n.markets)}catch(e){console.error("Error fetching markets:",e)}finally{f(!1)}})()},[x,g]),(0,n.jsx)(m.LayoutProvider,{showHeader:!0,showFooter:!0,children:(0,n.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,n.jsx)("section",{className:"py-12 bg-white border-b",children:(0,n.jsxs)("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[(0,n.jsxs)("div",{className:"text-center mb-8",children:[(0,n.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Discover Local Markets"}),(0,n.jsx)("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Find farmers markets, craft fairs, and food festivals in your area. Apply with confidence using your pre-verified documents."})]}),(0,n.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-3 gap-4 mx-auto max-w-4xl",children:[(0,n.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200 text-center",children:[(0,n.jsx)("div",{className:"text-3xl mb-2",children:"\uD83D\uDD0D"}),(0,n.jsx)("h3",{className:"font-semibold",children:"Find markets"}),(0,n.jsx)("p",{className:"text-sm text-gray-600",children:"In a click, find the local markets near you"})]}),(0,n.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200 text-center",children:[(0,n.jsx)("div",{className:"text-3xl mb-2",children:"\uD83D\uDCE7"}),(0,n.jsx)("h3",{className:"font-semibold",children:"Apply"}),(0,n.jsx)("p",{className:"text-sm text-gray-600",children:"Market applications just made easier, send application and get approved"})]}),(0,n.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200 text-center",children:[(0,n.jsx)("div",{className:"text-3xl mb-2",children:"\uD83E\uDEF1\uD83C\uDFFBâ€\uD83E\uDEF2\uD83C\uDFFE"}),(0,n.jsx)("h3",{className:"font-semibold",children:"Collaborate"}),(0,n.jsx)("p",{className:"text-sm text-gray-600",children:"Get seen by event organizer and manage your offers in one platform"})]})]})]})}),(0,n.jsxs)("main",{className:"container mx-auto px-4 py-8",children:[(0,n.jsxs)("div",{className:"mb-8",children:[(0,n.jsx)("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Available Markets"}),(0,n.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[(0,n.jsx)("form",{onSubmit:e=>{e.preventDefault()},className:"flex-1",children:(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)(u.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,n.jsx)(l.I,{type:"text",placeholder:"Search markets by name or location...",value:x,onChange:e=>h(e.target.value),className:"pl-10"})]})}),(0,n.jsxs)("select",{value:g,onChange:e=>p(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",children:[(0,n.jsx)("option",{value:"",children:"All States"}),["NSW","VIC","QLD","WA","SA","TAS","ACT","NT"].map(e=>(0,n.jsx)("option",{value:e,children:e},e))]})]})]}),t?(0,n.jsx)("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((e,r)=>(0,n.jsxs)(o.Zb,{className:"animate-pulse",children:[(0,n.jsxs)(o.Ol,{children:[(0,n.jsx)("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),(0,n.jsx)("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]}),(0,n.jsx)(o.aY,{children:(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)("div",{className:"h-3 bg-gray-200 rounded"}),(0,n.jsx)("div",{className:"h-3 bg-gray-200 rounded w-5/6"})]})})]},r))}):0===e.length?(0,n.jsxs)("div",{className:"text-center py-12",children:[(0,n.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,n.jsx)(d.Z,{className:"w-8 h-8 text-gray-400"})}),(0,n.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No markets found"}),(0,n.jsx)("p",{className:"text-gray-600 mb-4",children:"Try adjusting your search criteria or browse all markets"}),(0,n.jsx)(i.z,{onClick:()=>{h(""),p("")},children:"Clear Filters"})]}):(0,n.jsx)("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(e=>(0,n.jsxs)(o.Zb,{className:"hover:shadow-lg transition-shadow",children:[(0,n.jsxs)(o.Ol,{children:[(0,n.jsxs)(o.ll,{className:"flex items-start justify-between",children:[(0,n.jsx)("span",{className:"text-lg",children:e.name}),(0,n.jsxs)("div",{className:"flex gap-2",children:["draft"===e.status&&(0,n.jsx)(c.C,{variant:"outline",className:"text-orange-600 border-orange-200 bg-orange-50",children:"Available to Claim"}),(0,n.jsx)(c.C,{variant:"secondary",children:e.state})]})]}),(0,n.jsxs)(o.SZ,{className:"flex items-center",children:[(0,n.jsx)(d.Z,{className:"w-4 h-4 mr-1"}),e.city,", ",e.state]})]}),(0,n.jsxs)(o.aY,{children:[(0,n.jsx)("p",{className:"text-sm text-gray-600 mb-4 line-clamp-3",children:e.description}),e.amenities&&Object.keys(e.amenities).length>0&&(0,n.jsxs)("div",{className:"mb-4",children:[(0,n.jsx)("p",{className:"text-xs font-medium text-gray-500 mb-2",children:"Amenities:"}),(0,n.jsx)("div",{className:"flex flex-wrap gap-1",children:Object.entries(e.amenities).map(e=>{let[r,t]=e;return t&&(0,n.jsx)(c.C,{variant:"outline",className:"text-xs",children:r.replace("_"," ")},r)})})]}),e.events&&e.events.length>0&&(0,n.jsx)("div",{className:"mb-4",children:(0,n.jsxs)("p",{className:"text-xs font-medium text-gray-500 mb-2",children:["Next Event: ",new Date(e.events[0].start_date).toLocaleDateString()]})}),(0,n.jsxs)("div",{className:"flex gap-2",children:[(0,n.jsx)(i.z,{asChild:!0,size:"sm",className:"flex-1",children:(0,n.jsx)(s.default,{href:"/markets/".concat(e.slug),children:"View Details"})}),"draft"===e.status?(0,n.jsx)(i.z,{asChild:!0,variant:"outline",size:"sm",className:"border-orange-200 text-orange-600 hover:bg-orange-50",children:(0,n.jsx)(s.default,{href:"/auth/register?role=market_organizer",children:"Claim Market"})}):(0,n.jsx)(i.z,{asChild:!0,variant:"outline",size:"sm",children:(0,n.jsx)(s.default,{href:"/auth/register?role=vendor",children:"Apply"})})]})]})]},e.id))}),(0,n.jsxs)("div",{className:"mt-12 text-center",children:[(0,n.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Want to list your market?"}),(0,n.jsx)("p",{className:"text-gray-600 mb-6",children:"Join MarketHub to manage vendor applications and streamline your market operations"}),(0,n.jsx)(i.z,{asChild:!0,size:"lg",children:(0,n.jsx)(s.default,{href:"/auth/register?role=market_organizer",children:"List Your Market"})})]})]})]})})}},4051:function(e,r,t){"use strict";t.d(r,{C:function(){return l}});var n=t(7573);t(7653);var a=t(5517),s=t(5974);let i=(0,a.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function l(e){let{className:r,variant:t,...a}=e;return(0,n.jsx)("div",{className:(0,s.cn)(i({variant:t}),r),...a})}},6113:function(e,r,t){"use strict";t.d(r,{Ol:function(){return l},SZ:function(){return c},Zb:function(){return i},aY:function(){return u},ll:function(){return o}});var n=t(7573),a=t(7653),s=t(5974);let i=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)("div",{ref:r,className:(0,s.cn)("rounded-xl border bg-card text-card-foreground shadow-sm",t),...a})});i.displayName="Card";let l=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)("div",{ref:r,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",t),...a})});l.displayName="CardHeader";let o=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)("h3",{ref:r,className:(0,s.cn)("text-2xl font-semibold leading-none tracking-tight",t),...a})});o.displayName="CardTitle";let c=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)("p",{ref:r,className:(0,s.cn)("text-sm text-muted-foreground",t),...a})});c.displayName="CardDescription";let u=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)("div",{ref:r,className:(0,s.cn)("p-6 pt-0",t),...a})});u.displayName="CardContent",a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)("div",{ref:r,className:(0,s.cn)("flex items-center p-6 pt-0",t),...a})}).displayName="CardFooter",a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)("div",{ref:r,className:(0,s.cn)("flex items-center justify-end",t),...a})}).displayName="CardAction"},1998:function(e,r,t){"use strict";t.d(r,{I:function(){return i}});var n=t(7573),a=t(7653),s=t(5974);let i=a.forwardRef((e,r)=>{let{className:t,type:a,...i}=e;return(0,n.jsx)("input",{type:a,className:(0,s.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...i})});i.displayName="Input"},9565:function(e,r,t){"use strict";t.d(r,{Z:function(){return o}});var n=t(7653);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),s=function(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return r.filter((e,r,t)=>!!e&&t.indexOf(e)===r).join(" ")};/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,n.forwardRef)((e,r)=>{let{color:t="currentColor",size:a=24,strokeWidth:l=2,absoluteStrokeWidth:o,className:c="",children:u,iconNode:d,...m}=e;return(0,n.createElement)("svg",{ref:r,...i,width:a,height:a,stroke:t,strokeWidth:o?24*Number(l)/Number(a):l,className:s("lucide",c),...m},[...d.map(e=>{let[r,t]=e;return(0,n.createElement)(r,t)}),...Array.isArray(u)?u:[u]])}),o=(e,r)=>{let t=(0,n.forwardRef)((t,i)=>{let{className:o,...c}=t;return(0,n.createElement)(l,{ref:i,iconNode:r,className:s("lucide-".concat(a(e)),o),...c})});return t.displayName="".concat(e),t}},3972:function(e,r,t){"use strict";t.d(r,{Z:function(){return n}});/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,t(9565).Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},6738:function(e,r,t){"use strict";t.d(r,{Z:function(){return n}});/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,t(9565).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},7659:function(e,r,t){"use strict";t.d(r,{default:function(){return a.a}});var n=t(5469),a=t.n(n)},7754:function(e,r,t){"use strict";var n=t(534);t.o(n,"useParams")&&t.d(r,{useParams:function(){return n.useParams}}),t.o(n,"usePathname")&&t.d(r,{usePathname:function(){return n.usePathname}}),t.o(n,"useRouter")&&t.d(r,{useRouter:function(){return n.useRouter}}),t.o(n,"useSearchParams")&&t.d(r,{useSearchParams:function(){return n.useSearchParams}})},7676:function(e,r,t){"use strict";/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=t(7653),a="function"==typeof Object.is?Object.is:function(e,r){return e===r&&(0!==e||1/e==1/r)||e!=e&&r!=r},s=n.useState,i=n.useEffect,l=n.useLayoutEffect,o=n.useDebugValue;function c(e){var r=e.getSnapshot;e=e.value;try{var t=r();return!a(e,t)}catch(e){return!0}}var u="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,r){return r()}:function(e,r){var t=r(),n=s({inst:{value:t,getSnapshot:r}}),a=n[0].inst,u=n[1];return l(function(){a.value=t,a.getSnapshot=r,c(a)&&u({inst:a})},[e,t,r]),i(function(){return c(a)&&u({inst:a}),e(function(){c(a)&&u({inst:a})})},[e]),o(t),t};r.useSyncExternalStore=void 0!==n.useSyncExternalStore?n.useSyncExternalStore:u},2666:function(e,r,t){"use strict";e.exports=t(7676)},6483:function(e,r,t){"use strict";t.d(r,{NY:function(){return k},Ee:function(){return w},fC:function(){return N}});var n=t(7653),a=t(379),s=t(3465),i=t(2316),l=t(6646),o=t(2666);function c(){return()=>{}}var u=t(7573),d="Avatar",[m,f]=(0,a.b)(d),[x,h]=m(d),g=n.forwardRef((e,r)=>{let{__scopeAvatar:t,...a}=e,[s,i]=n.useState("idle");return(0,u.jsx)(x,{scope:t,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:(0,u.jsx)(l.WV.span,{...a,ref:r})})});g.displayName=d;var p="AvatarImage",v=n.forwardRef((e,r)=>{let{__scopeAvatar:t,src:a,onLoadingStatusChange:d=()=>{},...m}=e,f=h(p,t),x=function(e,r){let{referrerPolicy:t,crossOrigin:a}=r,s=(0,o.useSyncExternalStore)(c,()=>!0,()=>!1),l=n.useRef(null),u=s?(l.current||(l.current=new window.Image),l.current):null,[d,m]=n.useState(()=>y(u,e));return(0,i.b)(()=>{m(y(u,e))},[u,e]),(0,i.b)(()=>{let e=e=>()=>{m(e)};if(!u)return;let r=e("loaded"),n=e("error");return u.addEventListener("load",r),u.addEventListener("error",n),t&&(u.referrerPolicy=t),"string"==typeof a&&(u.crossOrigin=a),()=>{u.removeEventListener("load",r),u.removeEventListener("error",n)}},[u,a,t]),d}(a,m),g=(0,s.W)(e=>{d(e),f.onImageLoadingStatusChange(e)});return(0,i.b)(()=>{"idle"!==x&&g(x)},[x,g]),"loaded"===x?(0,u.jsx)(l.WV.img,{...m,ref:r,src:a}):null});v.displayName=p;var b="AvatarFallback",j=n.forwardRef((e,r)=>{let{__scopeAvatar:t,delayMs:a,...s}=e,i=h(b,t),[o,c]=n.useState(void 0===a);return n.useEffect(()=>{if(void 0!==a){let e=window.setTimeout(()=>c(!0),a);return()=>window.clearTimeout(e)}},[a]),o&&"loaded"!==i.imageLoadingStatus?(0,u.jsx)(l.WV.span,{...s,ref:r}):null});function y(e,r){return e?r?(e.src!==r&&(e.src=r),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}j.displayName=b;var N=g,w=v,k=j},379:function(e,r,t){"use strict";t.d(r,{b:function(){return i},k:function(){return s}});var n=t(7653),a=t(7573);function s(e,r){let t=n.createContext(r),s=e=>{let{children:r,...s}=e,i=n.useMemo(()=>s,Object.values(s));return(0,a.jsx)(t.Provider,{value:i,children:r})};return s.displayName=e+"Provider",[s,function(a){let s=n.useContext(t);if(s)return s;if(void 0!==r)return r;throw Error(`\`${a}\` must be used within \`${e}\``)}]}function i(e,r=[]){let t=[],s=()=>{let r=t.map(e=>n.createContext(e));return function(t){let a=t?.[e]||r;return n.useMemo(()=>({[`__scope${e}`]:{...t,[e]:a}}),[t,a])}};return s.scopeName=e,[function(r,s){let i=n.createContext(s),l=t.length;t=[...t,s];let o=r=>{let{scope:t,children:s,...o}=r,c=t?.[e]?.[l]||i,u=n.useMemo(()=>o,Object.values(o));return(0,a.jsx)(c.Provider,{value:u,children:s})};return o.displayName=r+"Provider",[o,function(t,a){let o=a?.[e]?.[l]||i,c=n.useContext(o);if(c)return c;if(void 0!==s)return s;throw Error(`\`${t}\` must be used within \`${r}\``)}]},function(...e){let r=e[0];if(1===e.length)return r;let t=()=>{let t=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let a=t.reduce((r,{useScope:t,scopeName:n})=>{let a=t(e)[`__scope${n}`];return{...r,...a}},{});return n.useMemo(()=>({[`__scope${r.scopeName}`]:a}),[a])}};return t.scopeName=r.scopeName,t}(s,...r)]}},6646:function(e,r,t){"use strict";t.d(r,{WV:function(){return l},jH:function(){return o}});var n=t(7653),a=t(3458),s=t(2721),i=t(7573),l=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,r)=>{let t=(0,s.Z8)(`Primitive.${r}`),a=n.forwardRef((e,n)=>{let{asChild:a,...s}=e,l=a?t:r;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,i.jsx)(l,{...s,ref:n})});return a.displayName=`Primitive.${r}`,{...e,[r]:a}},{});function o(e,r){e&&a.flushSync(()=>e.dispatchEvent(r))}},3465:function(e,r,t){"use strict";t.d(r,{W:function(){return a}});var n=t(7653);function a(e){let r=n.useRef(e);return n.useEffect(()=>{r.current=e}),n.useMemo(()=>(...e)=>r.current?.(...e),[])}},2316:function(e,r,t){"use strict";t.d(r,{b:function(){return a}});var n=t(7653),a=globalThis?.document?n.useLayoutEffect:()=>{}}},function(e){e.O(0,[469,271,493,293,286,744],function(){return e(e.s=8519)}),_N_E=e.O()}]);