(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[296],{1416:function(e,r,t){Promise.resolve().then(t.bind(t,7613))},7613:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return g}});var s=t(7437),a=t(2265),n=t(7138),i=t(495),l=t(3102),c=t(6013),d=t(777),o=t(7440);let u=(0,d.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function f(e){let{className:r,variant:t,...a}=e;return(0,s.jsx)("div",{className:(0,o.cn)(u({variant:t}),r),...a})}var m=t(1827);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let x=(0,m.Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),h=(0,m.Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);function g(){let[e,r]=(0,a.useState)([]),[t,d]=(0,a.useState)(!0),[o,u]=(0,a.useState)(""),[m,g]=(0,a.useState)("");return(0,a.useEffect)(()=>{(async()=>{try{let e=new URLSearchParams;o&&e.set("search",o),m&&e.set("state",m);let t=await fetch("/api/markets?".concat(e)),s=await t.json();t.ok&&r(s.markets)}catch(e){console.error("Error fetching markets:",e)}finally{d(!1)}})()},[o,m]),(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,s.jsx)("header",{className:"bg-white border-b",children:(0,s.jsxs)("div",{className:"container mx-auto px-4 py-4 flex justify-between items-center",children:[(0,s.jsxs)(n.default,{href:"/",className:"flex items-center space-x-2",children:[(0,s.jsx)("div",{className:"w-8 h-8 bg-green-600 rounded-full flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-white font-bold text-lg",children:"M"})}),(0,s.jsx)("span",{className:"text-xl font-bold text-green-600",children:"MarketHub"})]}),(0,s.jsxs)("nav",{className:"flex items-center space-x-4",children:[(0,s.jsx)(n.default,{href:"/auth/login",className:"text-gray-600 hover:text-green-600",children:"Sign In"}),(0,s.jsx)(i.z,{asChild:!0,children:(0,s.jsx)(n.default,{href:"/auth/register",children:"Join MarketHub"})})]})]})}),(0,s.jsxs)("main",{className:"container mx-auto px-4 py-8",children:[(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Discover Local Markets"}),(0,s.jsx)("p",{className:"text-gray-600 mb-6",children:"Find the perfect market for your products across Australia"}),(0,s.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[(0,s.jsx)("form",{onSubmit:e=>{e.preventDefault()},className:"flex-1",children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(x,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,s.jsx)(l.I,{type:"text",placeholder:"Search markets by name or location...",value:o,onChange:e=>u(e.target.value),className:"pl-10"})]})}),(0,s.jsxs)("select",{value:m,onChange:e=>g(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",children:[(0,s.jsx)("option",{value:"",children:"All States"}),["NSW","VIC","QLD","WA","SA","TAS","ACT","NT"].map(e=>(0,s.jsx)("option",{value:e,children:e},e))]})]})]}),t?(0,s.jsx)("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((e,r)=>(0,s.jsxs)(c.Zb,{className:"animate-pulse",children:[(0,s.jsxs)(c.Ol,{children:[(0,s.jsx)("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),(0,s.jsx)("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]}),(0,s.jsx)(c.aY,{children:(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("div",{className:"h-3 bg-gray-200 rounded"}),(0,s.jsx)("div",{className:"h-3 bg-gray-200 rounded w-5/6"})]})})]},r))}):0===e.length?(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,s.jsx)(h,{className:"w-8 h-8 text-gray-400"})}),(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No markets found"}),(0,s.jsx)("p",{className:"text-gray-600 mb-4",children:"Try adjusting your search criteria or browse all markets"}),(0,s.jsx)(i.z,{onClick:()=>{u(""),g("")},children:"Clear Filters"})]}):(0,s.jsx)("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(e=>(0,s.jsxs)(c.Zb,{className:"hover:shadow-lg transition-shadow",children:[(0,s.jsxs)(c.Ol,{children:[(0,s.jsxs)(c.ll,{className:"flex items-start justify-between",children:[(0,s.jsx)("span",{className:"text-lg",children:e.name}),(0,s.jsx)(f,{variant:"secondary",children:e.state})]}),(0,s.jsxs)(c.SZ,{className:"flex items-center",children:[(0,s.jsx)(h,{className:"w-4 h-4 mr-1"}),e.city,", ",e.state]})]}),(0,s.jsxs)(c.aY,{children:[(0,s.jsx)("p",{className:"text-sm text-gray-600 mb-4 line-clamp-3",children:e.description}),e.amenities&&Object.keys(e.amenities).length>0&&(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("p",{className:"text-xs font-medium text-gray-500 mb-2",children:"Amenities:"}),(0,s.jsx)("div",{className:"flex flex-wrap gap-1",children:Object.entries(e.amenities).map(e=>{let[r,t]=e;return t&&(0,s.jsx)(f,{variant:"outline",className:"text-xs",children:r.replace("_"," ")},r)})})]}),e.events&&e.events.length>0&&(0,s.jsx)("div",{className:"mb-4",children:(0,s.jsxs)("p",{className:"text-xs font-medium text-gray-500 mb-2",children:["Next Event: ",new Date(e.events[0].start_date).toLocaleDateString()]})}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(i.z,{asChild:!0,size:"sm",className:"flex-1",children:(0,s.jsx)(n.default,{href:"/markets/".concat(e.slug),children:"View Details"})}),(0,s.jsx)(i.z,{asChild:!0,variant:"outline",size:"sm",children:(0,s.jsx)(n.default,{href:"/auth/register?role=vendor",children:"Apply"})})]})]})]},e.id))}),(0,s.jsxs)("div",{className:"mt-12 text-center",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Want to list your market?"}),(0,s.jsx)("p",{className:"text-gray-600 mb-6",children:"Join MarketHub to manage vendor applications and streamline your market operations"}),(0,s.jsx)(i.z,{asChild:!0,size:"lg",children:(0,s.jsx)(n.default,{href:"/auth/register?role=market_organizer",children:"List Your Market"})})]})]})]})}},495:function(e,r,t){"use strict";t.d(r,{z:function(){return d}});var s=t(7437),a=t(2265),n=t(3501),i=t(777),l=t(7440);let c=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef((e,r)=>{let{className:t,variant:a,size:i,asChild:d=!1,...o}=e,u=d?n.g7:"button";return(0,s.jsx)(u,{className:(0,l.cn)(c({variant:a,size:i,className:t})),ref:r,...o})});d.displayName="Button"},6013:function(e,r,t){"use strict";t.d(r,{Ol:function(){return l},SZ:function(){return d},Zb:function(){return i},aY:function(){return o},ll:function(){return c}});var s=t(7437),a=t(2265),n=t(7440);let i=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("div",{ref:r,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...a})});i.displayName="Card";let l=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("div",{ref:r,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",t),...a})});l.displayName="CardHeader";let c=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("h3",{ref:r,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",t),...a})});c.displayName="CardTitle";let d=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("p",{ref:r,className:(0,n.cn)("text-sm text-muted-foreground",t),...a})});d.displayName="CardDescription";let o=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("div",{ref:r,className:(0,n.cn)("p-6 pt-0",t),...a})});o.displayName="CardContent",a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("div",{ref:r,className:(0,n.cn)("flex items-center p-6 pt-0",t),...a})}).displayName="CardFooter"},3102:function(e,r,t){"use strict";t.d(r,{I:function(){return i}});var s=t(7437),a=t(2265),n=t(7440);let i=a.forwardRef((e,r)=>{let{className:t,type:a,...i}=e;return(0,s.jsx)("input",{type:a,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...i})});i.displayName="Input"},7440:function(e,r,t){"use strict";t.d(r,{cn:function(){return n}});var s=t(4399),a=t(578);function n(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,a.m6)((0,s.W)(r))}t(357)},7138:function(e,r,t){"use strict";t.d(r,{default:function(){return a.a}});var s=t(231),a=t.n(s)}},function(e){e.O(0,[231,120,971,23,744],function(){return e(e.s=1416)}),_N_E=e.O()}]);